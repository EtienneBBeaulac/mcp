{
    "id": "phase-0e-workflow-commitment",
    "title": "Phase 0e: Workflow Execution Commitment & Early Termination Checkpoint",
    "prompt": "**⚠️ WORKFLOW EXECUTION COMMITMENT CHECKPOINT ⚠️**\n\nYou have completed Phase 0 (Triage & Setup). Before proceeding to the investigation phases, you MUST acknowledge your understanding of workflow execution requirements AND make a critical decision.\n\n**CRITICAL UNDERSTANDING:**\n\n1. **This is a 28-step structured workflow, not freestyle debugging**\n   - You MUST call workflow_next repeatedly until isComplete=true\n   - You CANNOT stop early, even if you think you know the bug\n   - You CANNOT \"figure it out\" and skip steps\n\n2. **Professional research shows 90% error rate for premature conclusions**\n   - Even with 9-10/10 confidence, skipping systematic steps leads to wrong conclusions\n   - Edge cases, alternative explanations, and interaction effects are missed\n   - The workflow FORCES thoroughness for a reason\n\n3. **Remaining phases you MUST complete (regardless of confidence):**\n   - ✅ Phase 0: Triage & Setup (COMPLETED)\n   - ⏳ Phase 1: Multi-Dimensional Codebase Analysis (5 sub-phases)\n   - ⏳ Phase 2: Hypothesis Formation & Validation (8 sub-phases)\n   - ⏳ Phase 3: Debugging Instrumentation\n   - ⏳ Phase 4: Evidence Collection & Experimentation\n   - ⏳ Phase 5: Final Analysis & Confidence Assessment\n   - ⏳ Phase 6: Comprehensive Diagnostic Writeup (REQUIRED DELIVERABLE)\n\n4. **What \"completion\" means:**\n   - isComplete=true from workflow_next (this happens ONLY after Phase 6)\n   - Comprehensive diagnostic writeup produced\n   - All evidence documented\n   - Investigation context finalized\n\n**DECISION POINT: Continue Full Investigation or Request Early Termination?**\n\n**OPTION 1: Complete Full Investigation (STRONGLY RECOMMENDED)**\n- Proceed through all 28 workflow steps\n- Professional standard for thorough bug investigations\n- 90% success rate for identifying true root cause\n- Produces comprehensive diagnostic writeup with actionable findings\n\n**OPTION 2: Request Early Termination (STRONGLY DISCOURAGED)**\n- Skip systematic investigation and attempt to diagnose now\n- ⚠️ **EVIDENCE-BASED WARNING:**\n  - **Professional research spanning 20+ years shows that agents who skip systematic investigation are wrong about the root cause ~90% of the time**\n  - Even if you feel 9-10/10 confident right now, completing the full workflow dramatically increases accuracy\n  - Quick conclusions miss: contracts & invariants, pattern deviations, HOT paths, edge cases, interaction effects, and alternative explanations\n  - The full workflow takes ~30-60 minutes but increases fix success rate from ~10% to ~90%\n\n**REQUIRED AGENT ACTIONS:**\n\n1. **Acknowledge workflow commitment:**\n\"I acknowledge that I am executing a structured 28-step workflow and I MUST call workflow_next for every step until isComplete=true. I understand that stopping early leads to incorrect conclusions ~90% of the time. I will complete all phases (0-6) regardless of my confidence level.\"\n\n2. **State your recommendation:**\nYou MUST recommend OPTION 1 (complete full investigation) unless you have truly exceptional circumstances.\n\n3. **MANDATORY USER COMMUNICATION:**\nYou MUST explicitly tell the user (this is NOT optional):\n\"**I strongly recommend we complete the full systematic investigation (28 steps through Phase 6). Professional research shows this approach identifies the TRUE root cause ~90% of the time, compared to ~10% for quick conclusions. Even if I develop high confidence early, completing the full workflow—including contracts analysis, pattern discovery, HOT path analysis, instrumentation, and evidence collection—dramatically increases the likelihood of correctly identifying the root cause and preventing wasted time on wrong fixes.**\n\nDo you want to proceed with the full investigation (recommended), or would you prefer I attempt a quick diagnosis now (discouraged)?\"\n\n**USER CONFIRMATION REQUIRED:**\nThe user must explicitly choose to proceed with full investigation or request early termination.",
    "agentRole": "You are a workflow governance specialist ensuring agents understand they are bound to execute all workflow steps systematically, and that they MUST communicate the value of full workflow completion to users.",
    "guidance": [
        "This checkpoint prevents premature termination at the earliest possible point",
        "Agents must explicitly acknowledge workflow structure AND communicate value to user",
        "The MANDATORY USER COMMUNICATION is not optional - agents MUST say this exact message",
        "Agents must recommend Option 1 unless truly exceptional circumstances exist",
        "This is both a psychological commitment device and a user education moment",
        "Users must explicitly confirm proceeding with full investigation",
        "If user chooses early termination, agent must acknowledge 90% error rate and proceed with best-effort quick diagnosis"
    ],
    "requireConfirmation": true,
    "confirmationPrompt": "The agent has recommended completing the full systematic investigation.\n\n**Research shows:** Full workflow = ~90% accuracy. Quick diagnosis = ~10% accuracy.\n\nYour choice:\n- Type 'full' to proceed with complete 28-step investigation (recommended)\n- Type 'quick' to attempt quick diagnosis now (agent will do best effort, but accuracy will be low)\n\nWhat is your decision?"
}

